<div *ngIf="locations" class="container">
  <ion-content>
    <ion-card *ngFor="let location of locations">
      <ion-card-header>
        <ion-card-title>{{ location.name }}</ion-card-title>
        <ion-card-subtitle>{{ location.type }} - {{ location.dimension }}</ion-card-subtitle>
      </ion-card-header>
      <ion-card-content>
        <ion-list>
          <ion-item *ngFor="let character of charactersMap[location.id!]">
            <ion-thumbnail slot="start">
              <img alt="{{ character.name }}" [src]="character.image" />
            </ion-thumbnail>
            <ion-label>
              <h2>
                {{ character.name }}
              </h2>
              <p>
                {{ character.species }}
              </p>
            </ion-label>
          </ion-item>
        </ion-list>
        <ion-infinite-scroll (ionInfinite)="onIonInfinite($event)">
          <ion-infinite-scroll-content loadingText="Loading..." loadingSpinner="bubbles">
          </ion-infinite-scroll-content>
        </ion-infinite-scroll>
      </ion-card-content>
    </ion-card>
  </ion-content>
</div>
